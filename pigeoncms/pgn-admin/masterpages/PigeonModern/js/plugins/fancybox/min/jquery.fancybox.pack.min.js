!function(t){function e(){w.hide(),L.onerror=L.onload=null,N&&N.abort(),x.empty()}function n(){t.fancybox('<p id="fancybox_error">The requested content cannot be loaded.<br />Please try again later.</p>',{scrolling:"no",padding:20,transitionIn:"none",transitionOut:"none"})}function i(){e();var i=A[D];E=t.extend({},t.fn.fancybox.defaults,"undefined"==typeof t(i).data("fancybox")?E:t(i).data("fancybox"));var d,s,l=i.title||t(i).title||E.title||"";if(i.nodeName&&!E.orig&&(E.orig=t(i).children("img:first").length?t(i).children("img:first"):t(i)),""==l&&E.orig&&(l=E.orig.attr("alt")),d=i.nodeName&&/^(?:javascript|#)/i.test(i.href)?E.href||null:E.href||i.href||null,E.type?(s=E.type,d||(d=E.content)):E.content?s="html":d?d.match(z)?s="image":d.match(G)?s="swf":t(i).hasClass("iframe")?s="iframe":d.match(/#/)?(i=d.substr(d.indexOf("#")),s=t(i).length>0?"inline":"ajax"):s="ajax":s="inline",E.type=s,E.href=d,E.title=l,E.autoDimensions&&"iframe"!==E.type&&"swf"!==E.type&&(E.width="auto",E.height="auto"),E.modal&&(E.overlayShow=!0,E.hideOnOverlayClick=!1,E.hideOnContentClick=!1,E.enableEscapeButton=!1,E.showCloseButton=!1),t.isFunction(E.onStart)&&E.onStart(A,D,E)===!1)return W=!1,void 0;switch(x.css("padding",$+E.padding+E.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(O.children())}),s){case"html":x.html(E.content),o();break;case"inline":t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(i)).bind("fancybox-cleanup",function(){t(this).replaceWith(O.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(x.children())}),t(i).appendTo(x),o();break;case"image":W=!1,t.fancybox.showActivity(),L=new Image,L.onerror=function(){n()},L.onload=function(){L.onerror=null,L.onload=null,a()},L.src=d;break;case"swf":var h="",r="";h+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+E.width+'" height="'+E.height+'"><param name="movie" value="'+d+'"></param>',t.each(E.swf,function(t,e){h+='<param name="'+t+'" value="'+e+'"></param>',r+=" "+t+'="'+e+'"'}),h+='<embed src="'+d+'" type="application/x-shockwave-flash" width="'+E.width+'" height="'+E.height+'"'+r+"></embed></object>",x.html(h),o();break;case"ajax":i=d.split("#",2),s=E.ajax.data||{},i.length>1&&(d=i[0],"string"==typeof s?s+="&selector="+i[1]:s.selector=i[1]),W=!1,t.fancybox.showActivity(),N=t.ajax(t.extend(E.ajax,{url:d,data:s,error:n,success:function(t){200==N.status&&(x.html(t),o())}}));break;case"iframe":t('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" scrolling="'+E.scrolling+'" src="'+E.href+'"></iframe>').appendTo(x),c()}}function a(){W=!0,E.width=L.width,E.height=L.height,t("<img />").attr({id:"fancybox-img",src:L.src,alt:E.title}).appendTo(x),c()}function o(){x.width(E.width),x.height(E.height),"auto"==E.width&&(E.width=x.width()),"auto"==E.height&&(E.height=x.height()),c()}function c(){if(w.hide(),C.is(":visible")&&t.isFunction(B.onCleanup)&&B.onCleanup(P,H,B)===!1)return t.event.trigger("fancybox-cancel"),W=!1,void 0;if(P=A,H=D,B=E,O.get(0).scrollTop=0,O.get(0).scrollLeft=0,B.overlayShow&&(X&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),v.css({"background-color":B.overlayColor,opacity:B.overlayOpacity}).unbind().show()),T=l(),y(),C.is(":visible")){t(M.add(I).add(j)).hide();var e=C.position();S={top:e.top,left:e.left,width:C.width(),height:C.height()};var n=S.width==T.width&&S.height==T.height;O.fadeOut(B.changeFade,function(){function e(){O.html(x.contents()).fadeIn(B.changeFade,s)}t.event.trigger("fancybox-change"),O.css({top:B.padding,left:B.padding,width:Math.max(S.width-2*B.padding,1),height:Math.max(S.height-2*B.padding,1)}).empty().css("overflow","hidden"),q.prop=0,t(q).animate({prop:1},{duration:n?0:B.changeSpeed,easing:B.easingChange,step:d,complete:e})})}else C.css("opacity",1),"elastic"==B.transitionIn?(S=h(),O.css({top:B.padding,left:B.padding,width:Math.max(S.width-2*B.padding,1),height:Math.max(S.height-2*B.padding,1)}).html(x.contents()),C.css(S).show(),B.opacity&&(T.opacity=0),q.prop=0,t(q).animate({prop:1},{duration:B.speedIn,easing:B.easingIn,step:d,complete:s})):(O.css({top:B.padding,left:B.padding,width:Math.max(T.width-2*B.padding,1),height:Math.max(T.height-2*B.padding-Q,1)}).html(x.contents()),C.css(T).fadeIn("none"==B.transitionIn?0:B.speedIn,s))}function d(t){var e=Math.round(S.width+(T.width-S.width)*t),n=Math.round(S.height+(T.height-S.height)*t),i=Math.round(S.top+(T.top-S.top)*t),a=Math.round(S.left+(T.left-S.left)*t);C.css({width:e+"px",height:n+"px",top:i+"px",left:a+"px"}),e=Math.max(e-2*B.padding,0),n=Math.max(n-(2*B.padding+Q*t),0),O.css({width:e+"px",height:n+"px"}),"undefined"!=typeof T.opacity&&C.css("opacity",.5>t?.5:t)}function s(){O.css("overflow",overflow="auto"==B.scrolling?"image"==B.type||"iframe"==B.type||"swf"==B.type?"hidden":"auto":"yes"==B.scrolling?"auto":"visible"),t.support.opacity||(O.get(0).style.removeAttribute("filter"),C.get(0).style.removeAttribute("filter")),t("#fancybox-title").show(),B.hideOnContentClick&&O.one("click",t.fancybox.close),B.hideOnOverlayClick&&v.one("click",t.fancybox.close),B.showCloseButton&&M.show(),r(),t(window).bind("resize.fb",t.fancybox.center),B.centerOnScroll?t(window).bind("scroll.fb",t.fancybox.center):t(window).unbind("scroll.fb"),t.isFunction(B.onComplete)&&B.onComplete(P,H,B),W=!1,f()}function l(){var t=g(),e={},n=B.margin,i=B.autoScale,a=2*($+n),o=2*($+n),c=2*B.padding;return B.width.toString().indexOf("%")>-1?(e.width=t[0]*parseFloat(B.width)/100-2*$,i=!1):e.width=B.width+c,B.height.toString().indexOf("%")>-1?(e.height=t[1]*parseFloat(B.height)/100-2*$,i=!1):e.height=B.height+c,i&&(e.width>t[0]-a||e.height>t[1]-o)&&("image"==E.type||"swf"==E.type?(a+=c,o+=c,i=Math.min(Math.min(t[0]-a,B.width)/B.width,Math.min(t[1]-o,B.height)/B.height),e.width=Math.round(i*(e.width-c))+c,e.height=Math.round(i*(e.height-c))+c):(e.width=Math.min(e.width,t[0]-a),e.height=Math.min(e.height,t[1]-o))),e.top=t[3]+.5*(t[1]-(e.height+2*$)),e.left=t[2]+.5*(t[0]-(e.width+2*$)),0==B.autoScale&&(e.top=Math.max(t[3]+n,e.top),e.left=Math.max(t[2]+n,e.left)),e}function h(){var e=E.orig?t(E.orig):!1,n={};return e&&e.length?(e=u(e),n={width:e.width+2*B.padding,height:e.height+2*B.padding,top:e.top-B.padding-$,left:e.left-B.padding-$}):(e=g(),n={width:1,height:1,top:e[3]+.5*e[1],left:e[2]+.5*e[0]}),n}function r(){t(document).unbind("keydown.fb").bind("keydown.fb",function(e){27==e.keyCode&&B.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37==e.keyCode?(e.preventDefault(),t.fancybox.prev()):39==e.keyCode&&(e.preventDefault(),t.fancybox.next())}),t.fn.mousewheel&&(C.unbind("mousewheel.fb"),P.length>1&&C.bind("mousewheel.fb",function(e,n){e.preventDefault(),W||0==n||(n>0?t.fancybox.prev():t.fancybox.next())})),B.showNavArrows&&((B.cyclic&&P.length>1||0!=H)&&I.show(),(B.cyclic&&P.length>1||H!=P.length-1)&&j.show())}function f(){if(P.length-1>H){var t=P[H+1].href;if("undefined"!=typeof t&&t.match(z)){var e=new Image;e.src=t}}H>0&&(t=P[H-1].href,"undefined"!=typeof t&&t.match(z)&&(e=new Image,e.src=t))}function p(){w.is(":visible")?(t("div",w).css("top",-40*R+"px"),R=(R+1)%12):clearInterval(F)}function g(){return[t(window).width(),t(window).height(),t(document).scrollLeft(),t(document).scrollTop()]}function u(t){var e=t.offset();return e.top+=parseFloat(t.css("paddingTop"))||0,e.left+=parseFloat(t.css("paddingLeft"))||0,e.top+=parseFloat(t.css("border-top-width"))||0,e.left+=parseFloat(t.css("border-left-width"))||0,e.width=t.width(),e.height=t.height(),e}function y(){if(t("#fancybox-title").remove(),Q=0,0!=B.titleShow){var e=B.title;if(e=t.isFunction(B.titleFormat)?B.titleFormat(e,P,H,B):b(e),e&&""!=e){var n=T.width-2*B.padding;switch(t('<div id="fancybox-title" class="fancybox-title-'+B.titlePosition+'" />').css({width:n,paddingLeft:B.padding,paddingRight:B.padding}).html(e).appendTo("body"),B.titlePosition){case"inside":Q=t("#fancybox-title").outerHeight(!0)-B.padding,T.height+=Q;break;case"over":t("#fancybox-title").css("bottom",B.padding);break;default:t("#fancybox-title").css("bottom",-1*t("#fancybox-title").outerHeight(!0))}t("#fancybox-title").appendTo(k).hide(),X&&t("#fancybox-title span").fixPNG()}}}function b(t){if(t&&t.length)switch(B.titlePosition){case"inside":return t;case"over":return'<span id="fancybox-title-over">'+t+"</span>";default:return'<span id="fancybox-title-wrap"><span id="fancybox-title-left"></span><span id="fancybox-title-main">'+t+'</span><span id="fancybox-title-right"></span></span>'}return!1}function m(){t("#fancybox-wrap").length||(t("body").append(x=t('<div id="fancybox-tmp"></div>'),w=t('<div id="fancybox-loading"><div></div></div>'),v=t('<div id="fancybox-overlay"></div>'),C=t('<div id="fancybox-wrap"></div>')),k=t('<div id="fancybox-outer"></div>').append('<div class="fancy-bg" id="fancy-bg-n"></div><div class="fancy-bg" id="fancy-bg-ne"></div><div class="fancy-bg" id="fancy-bg-e"></div><div class="fancy-bg" id="fancy-bg-se"></div><div class="fancy-bg" id="fancy-bg-s"></div><div class="fancy-bg" id="fancy-bg-sw"></div><div class="fancy-bg" id="fancy-bg-w"></div><div class="fancy-bg" id="fancy-bg-nw"></div>').appendTo(C),k.append(O=t('<div id="fancybox-inner"></div>'),M=t('<a id="fancybox-close"></a>'),I=t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),j=t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),M.click(t.fancybox.close),w.click(t.fancybox.cancel),I.click(function(e){e.preventDefault(),t.fancybox.prev()}),j.click(function(e){e.preventDefault(),t.fancybox.next()}),t.support.opacity||k.find(".fancy-bg").fixPNG(),X&&(t(M.add(".fancy-ico").add("div",w)).fixPNG(),v.get(0).style.setExpression("height","document.body.scrollHeight > document.body.offsetHeight ? document.body.scrollHeight : document.body.offsetHeight + 'px'"),w.get(0).style.setExpression("top","(-20 + (document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2 ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop )) + 'px'"),k.prepend('<iframe id="fancybox-hide-sel-frame" src="javascript:\'\';" scrolling="no" frameborder="0" ></iframe>')))}var x,w,v,C,k,O,M,I,j,F,S,T,D=0,E={},A=[],H=0,B={},P=[],N=null,L=new Image,z=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,G=/[^\.]\.(swf)\s*$/i,R=1,W=!1,$=20,q=t.extend(t("<div/>")[0],{prop:0}),Q=0,X=!t.support.opacity&&!window.XMLHttpRequest;t.fn.fixPNG=function(){return this.each(function(){var e=t(this).css("backgroundImage");e.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(e=RegExp.$1,t(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod="+("no-repeat"==t(this).css("backgroundRepeat")?"crop":"scale")+", src='"+e+"')"}).each(function(){var e=t(this).css("position");"absolute"!=e&&"relative"!=e&&t(this).css("position","relative")}).css("zoom",1))})},t.fn.fancybox=function(e){return t(this).data("fancybox",t.extend({},e)),t(this).unbind("click.fb").bind("click.fb",function(e){return e.preventDefault(),W?void 0:(W=!0,t(this).blur(),A=[],D=0,e=t(this).attr("rel")||"",e&&""!=e&&"nofollow"!==e?(A=t("a[rel="+e+"], area[rel="+e+"]"),D=A.index(this)):A.push(this),i(),!1)}),this},t.fancybox=function(e,n){if(!W){if(W=!0,A=[],D=0,t.isArray(e)){for(var a=0,o=e.length;o>a;a++)"object"==typeof e[a]?t(e[a]).data("fancybox",t.extend({},n,e[a])):e[a]=t({}).data("fancybox",t.extend({content:e[a]},n));A=jQuery.merge(A,e)}else"object"==typeof e?t(e).data("fancybox",t.extend({},n,e)):e=t({}).data("fancybox",t.extend({content:e},n)),A.push(e);i()}},t.fancybox.showActivity=function(){clearInterval(F),w.show(),F=setInterval(p,66)},t.fancybox.hideActivity=function(){w.hide()},t.fancybox.next=function(){return t.fancybox.pos(H+1)},t.fancybox.prev=function(){return t.fancybox.pos(H-1)},t.fancybox.pos=function(t){W||(t=parseInt(t),t>-1&&P.length>t&&(D=t,i()),B.cyclic&&P.length>1&&0>t&&(D=P.length-1,i()),B.cyclic&&P.length>1&&t>=P.length&&(D=0,i()))},t.fancybox.cancel=function(){W||(W=!0,t.event.trigger("fancybox-cancel"),e(),E&&t.isFunction(E.onCancel)&&E.onCancel(A,D,E),W=!1)},t.fancybox.close=function(){function n(){v.fadeOut("fast"),C.hide(),t.event.trigger("fancybox-cleanup"),O.empty(),t.isFunction(B.onClosed)&&B.onClosed(P,H,B),P=E=[],H=D=0,B=E={},W=!1}if(!W&&!C.is(":hidden")){if(W=!0,B&&t.isFunction(B.onCleanup)&&B.onCleanup(P,H,B)===!1)return W=!1,void 0;if(e(),t(M.add(I).add(j)).hide(),t("#fancybox-title").remove(),C.add(O).add(v).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),O.css("overflow","hidden"),"elastic"==B.transitionOut){S=h();var i=C.position();T={top:i.top,left:i.left,width:C.width(),height:C.height()},B.opacity&&(T.opacity=1),q.prop=1,t(q).animate({prop:0},{duration:B.speedOut,easing:B.easingOut,step:d,complete:n})}else C.fadeOut("none"==B.transitionOut?0:B.speedOut,n)}},t.fancybox.resize=function(){if(!W&&!C.is(":hidden")){W=!0;var e=O.wrapInner("<div style='overflow:auto'></div>").children(),n=e.height();C.css({height:n+2*B.padding+Q}),O.css({height:n}),e.replaceWith(e.children()),t.fancybox.center()}},t.fancybox.center=function(){W=!0;var t=g(),e=B.margin,n={};n.top=t[3]+.5*(t[1]-(C.height()-Q+2*$)),n.left=t[2]+.5*(t[0]-(C.width()+2*$)),n.top=Math.max(t[3]+e,n.top),n.left=Math.max(t[2]+e,n.left),C.css(n),W=!1},t.fn.fancybox.defaults={padding:10,margin:20,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.3,overlayColor:"#666",titleShow:!0,titlePosition:"outside",titleFormat:null,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,onStart:null,onCancel:null,onComplete:null,onCleanup:null,onClosed:null},t(document).ready(function(){m()})}(jQuery);